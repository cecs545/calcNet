<!DOCTYPE HTML>
<html>

<head>
    <title>Title of the document</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" ></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="machines.js"></script>
    <style>
        .header {
            background-color: #0080ff;
            padding: 10px;
            text-align: center;
            border-radius: 5px;
            font-family: 'Times New Roman', Times, serif;
            color: white;
            font-size: 25px;
        }
    </style>
</head>

<body>
    <div class="container" style="margin-top:30px; width: 60%;">
        <div class="header">CalcNet - CECS 545 - Project 2</div>
        <br>
        <form action="display.html">
            <div class="form-group">
                <label for="text">Input expression 1:</label>
                <input type="text" class="form-control" name="input1" id="input1">
            </div>
            <div class="form-group">
                <label for="text">Input expression 2:</label>
                <input type="text" class="form-control" name="input2" id="input2">
            </div>
            <div class="form-group">
                <label for="text">Input expression 3:</label>
                <input type="text" class="form-control" name="input3" id="input3">
            </div>
            <div class="form-group">
                <label for="text">Input expression 4:</label>
                <input type="text" class="form-control" name="input4" id="input4">
            </div>
            <div class="form-group">
                <label for="text">Input expression 5:</label>
                <input type="text" class="form-control" name="input5" id="input5">
            </div>
            <br>
            <div class="form-group table">
                <label>Edit the default variable values:</label>
                <table>
                    <tr>
                        <script> 
                            for(var i=65;i<=90;i++) {
                                // Display the letters as the header
                                document.write("<th>" + String.fromCharCode(i) + "</th>");
                            }
                        </script> 
                        <!-- <th>Action</th> -->
                    </tr>
                    <tr>
                        <script> 
                            for(var i=65;i<=90;i++) {
                                // Display the letter values as initialized in machines.js
                                var alpha = String.fromCharCode(i);
                                document.write('<td class="td"><input id="val' + alpha + '" value="' + objectD.getVariableBoxVal(alpha) + '" size="2" > </input></td>');
                            }
                        </script> 
                    </tr>
                </table>
            </div>
            <input type="submit" class="btn btn-primary" onclick="updateInputData()"></input>
        </form>   
    </div>
</body>
<script>
    function updateInputData() {
        // update the variables defined by the user
        for (let i = 65; i <= 90; i++){
            var alpha = String.fromCharCode(i);
            var value = document.getElementById("val"+alpha).value;
            objectD.setVariableBox(alpha, value);
        }

        // update the input expressions given by the user
        var allInputs = [];
        for (let i = 1; i <= 5; i++) {
            allInputs.push(document.getElementById('input'+i).value);
        }

        // create a new container and call the input machine
        let mContainer = new Container();
        mContainer.I(allInputs);
    }
</script>
</html>